
----
Get registry token https://access.redhat.com/terms-based-registry/

Example: my username is xxxx|marcsecret


oc create secret docker-registry marcsecret \
    --docker-server=registry.redhat.io \
    --docker-username="xxxx|marcsecret" \
    --docker-password="" \
    --docker-email=mchisine@redhat.com

oc secrets link default marcsecret --for=pull
 
oc secrets link builder marcsecret
----


----
oc adm policy add-cluster-role-to-user cluster-admin system:serviceaccount:camel-pipelines:builder
----

----
oc edit scc restricted
readOnlyRootFilesystem: false
----

----
oc import-image centos:8 --confirm
imagestream.image.openshift.io/centos imported
----

----
oc new-build https://github.com/marcredhat/handy-environment --name gradle-container
----

----
oc get build
NAME                 TYPE     FROM   STATUS    STARTED   DURATION
gradle-container-1   Docker   Git    Pending
----

----
oc logs build/gradle-container-1
.....
Successfully pushed image-registry.openshift-image-registry.svc:5000/camel-pipelines/gradle-container@sha256:d53aa09f88a6fddce47341f92f68437b5206b61114453c6a7efc5fe16931a8f7
Push successful
----
